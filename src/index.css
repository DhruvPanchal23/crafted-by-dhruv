@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Enhanced Dark Mode Design System for Dhruv's Portfolio */

@layer base {
  :root {
    /* Raisin Black Foundation (60% usage) */
    --background: 0 0% 15%; /* Raisin black #272727 */
    --foreground: 0 0% 95%;

    --card: 0 0% 18%;
    --card-foreground: 0 0% 95%;

    --popover: 0 0% 12%;
    --popover-foreground: 0 0% 95%;

    /* Vibrant Accent Colors (30% usage) */
    --primary: 280 100% 70%; /* Vibrant purple */
    --primary-foreground: 0 0% 15%;
    --primary-glow: 280 100% 80%;

    --secondary: 195 100% 65%; /* Vibrant cyan */
    --secondary-foreground: 0 0% 15%;
    --secondary-glow: 195 100% 75%;

    --accent: 45 100% 65%; /* Vibrant yellow */
    --accent-foreground: 0 0% 15%;
    --accent-glow: 45 100% 75%;

    /* Additional Vibrant Colors */
    --tertiary: 330 100% 70%; /* Vibrant pink */
    --tertiary-glow: 330 100% 80%;

    --quaternary: 120 100% 65%; /* Vibrant green */
    --quaternary-glow: 120 100% 75%;

    /* Muted Colors */
    --muted: 0 0% 20%;
    --muted-foreground: 0 0% 70%;

    /* Feedback Colors */
    --success: 120 100% 65%;
    --success-foreground: 0 0% 15%;
    --error: 0 100% 65%;
    --error-foreground: 0 0% 95%;
    --warning: 45 100% 65%;
    --warning-foreground: 0 0% 15%;
    --info: 195 100% 65%;
    --info-foreground: 0 0% 15%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 95%;

    --border: 0 0% 25%;
    --input: 0 0% 18%;
    --ring: 280 100% 70%;

    --radius: 1.5rem;

    /* Vibrant Mesh Gradients */
    --gradient-mesh-1: linear-gradient(135deg, 
      hsla(280, 100%, 70%, 0.3), 
      hsla(195, 100%, 65%, 0.2), 
      hsla(45, 100%, 65%, 0.1)
    );
    --gradient-mesh-2: linear-gradient(225deg, 
      hsla(330, 100%, 70%, 0.3), 
      hsla(120, 100%, 65%, 0.2), 
      hsla(280, 100%, 70%, 0.1)
    );
    --gradient-mesh-3: radial-gradient(ellipse at top right, 
      hsla(195, 100%, 65%, 0.4), 
      hsla(280, 100%, 70%, 0.2), 
      transparent 70%
    );
    --gradient-mesh-4: radial-gradient(ellipse at bottom left, 
      hsla(45, 100%, 65%, 0.4), 
      hsla(330, 100%, 70%, 0.2), 
      transparent 70%
    );

    /* Glass Effects Enhanced */
    --glass-bg: hsla(0, 0%, 18%, 0.1);
    --glass-border: hsla(0, 0%, 40%, 0.2);
    --glass-shadow: 0 8px 32px hsla(0, 0%, 0%, 0.3);

    /* Glow Effects */
    --glow-primary: 0 0 40px hsla(280, 100%, 70%, 0.4);
    --glow-secondary: 0 0 40px hsla(195, 100%, 65%, 0.4);
    --glow-accent: 0 0 40px hsla(45, 100%, 65%, 0.4);
    --glow-soft: 0 0 20px hsla(280, 100%, 70%, 0.2);

    /* Enhanced Shadows */
    --shadow-elevation-1: 0 2px 8px hsla(0, 0%, 0%, 0.1);
    --shadow-elevation-2: 0 4px 16px hsla(0, 0%, 0%, 0.15);
    --shadow-elevation-3: 0 8px 32px hsla(0, 0%, 0%, 0.2);
    --shadow-elevation-4: 0 16px 64px hsla(0, 0%, 0%, 0.25);

    /* Animation timing */
    --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-spring: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    --transition-bounce: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    
    /* Typography */
    --font-size-xs: 0.75rem;
    --font-size-sm: 0.875rem;
    --font-size-base: 1rem;
    --font-size-lg: 1.125rem;
    --font-size-xl: 1.25rem;
    --font-size-2xl: 1.5rem;
    --font-size-3xl: 1.875rem;
    --font-size-4xl: 2.25rem;
    --font-size-5xl: 3rem;
    --font-size-6xl: 3.75rem;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-background text-foreground font-inter antialiased;
    background: 
      var(--gradient-mesh-1),
      var(--gradient-mesh-3),
      hsl(var(--background));
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Enhanced Glass Effects */
  .glass {
    background: var(--glass-bg);
    backdrop-filter: blur(24px);
    -webkit-backdrop-filter: blur(24px);
    border: 1px solid var(--glass-border);
    box-shadow: var(--glass-shadow);
  }

  .glass-card {
    @apply glass rounded-3xl p-6 transition-all duration-500;
    border: 1px solid hsla(var(--primary), 0.1);
  }

  .glass-card:hover {
    border-color: hsla(var(--primary), 0.3);
    box-shadow: var(--shadow-elevation-3), var(--glow-soft);
    transform: translateY(-2px);
  }

  /* Section Backgrounds with Mesh Gradients */
  .section-bg-1 {
    background: var(--gradient-mesh-1);
  }

  .section-bg-2 {
    background: var(--gradient-mesh-2);
  }

  .section-bg-3 {
    background: var(--gradient-mesh-3);
  }

  .section-bg-4 {
    background: var(--gradient-mesh-4);
  }

  /* Glow Text Effects */
  .text-glow {
    text-shadow: var(--glow-soft);
  }

  .text-glow-primary {
    text-shadow: var(--glow-primary);
  }

  .text-glow-secondary {
    text-shadow: var(--glow-secondary);
  }

  /* Enhanced Button Effects */
  .btn-glow {
    box-shadow: var(--shadow-elevation-2);
    transition: var(--transition-spring);
  }

  .btn-glow:hover {
    box-shadow: var(--shadow-elevation-3), var(--glow-primary);
    transform: translateY(-3px) scale(1.02);
  }

  /* Animation keyframes */
  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }

  @keyframes glow {
    0%, 100% { box-shadow: 0 0 20px hsla(var(--primary), 0.1); }
    50% { box-shadow: 0 0 30px hsla(var(--primary), 0.3); }
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideInLeft {
    from {
      opacity: 0;
      transform: translateX(-50px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes slideInRight {
    from {
      opacity: 0;
      transform: translateX(50px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes typewriter {
    from { width: 0; }
    to { width: 100%; }
  }

  @keyframes blink {
    0%, 50% { border-color: transparent; }
    51%, 100% { border-color: hsl(var(--primary)); }
  }

  @keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }

  @keyframes bounce {
    0%, 20%, 53%, 80%, 100% { transform: translateY(0); }
    40%, 43% { transform: translateY(-10px); }
    70% { transform: translateY(-5px); }
  }

  /* Scroll animations */
  .animate-on-scroll {
    opacity: 0;
    transform: translateY(30px);
    transition: var(--transition-smooth);
  }

  .animate-on-scroll.in-view {
    opacity: 1;
    transform: translateY(0);
  }

  /* Hero text effects */
  .gradient-text {
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    position: relative;
  }

  .gradient-text-animated {
    background: linear-gradient(45deg, hsl(var(--primary)), hsl(var(--accent)), hsl(var(--primary)));
    background-size: 200% 200%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: shimmer 3s ease-in-out infinite;
  }

  .typewriter {
    border-right: 2px solid hsl(var(--primary));
    animation: typewriter 3s steps(40) 1s 1 normal both, blink 1s steps(1) infinite;
  }

  /* Enhanced hover effects */
  .hover-glow {
    transition: var(--transition-smooth);
  }

  .hover-glow:hover {
    box-shadow: var(--border-glow);
    border-color: hsla(var(--primary), 0.5);
  }

  .text-shadow {
    text-shadow: var(--text-shadow);
  }

  /* Magnetic button effect */
  .magnetic-btn {
    position: relative;
    transition: var(--transition-spring);
  }

  .magnetic-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px hsla(var(--primary), 0.2);
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 6px;
  }

  ::-webkit-scrollbar-track {
    background: hsl(var(--background));
  }

  ::-webkit-scrollbar-thumb {
    background: hsl(var(--muted));
    border-radius: 3px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--primary));
  }

  .animate-fade-in { opacity: 0; animation: fadeIn 0.8s cubic-bezier(.4,0,.2,1) forwards; }
  @keyframes fadeIn { from { opacity: 0; transform: translateY(30px);} to { opacity: 1; transform: none;} }
  .animate-slide-in { opacity: 0; animation: slideIn 0.9s cubic-bezier(.4,0,.2,1) forwards; }
  @keyframes slideIn { from { opacity: 0; transform: translateY(-30px);} to { opacity: 1; transform: none;} }
  .animate-arrow-bounce { animation: arrowBounce 1.2s infinite alternate cubic-bezier(.4,0,.2,1); }
  @keyframes arrowBounce { from { transform: translateY(0); } to { transform: translateY(-6px); } }

  .animate-slide-in-left {
    animation: slideInLeft 1s cubic-bezier(0.4, 0, 0.2, 1) both;
  }
  .animate-slide-in-right {
    animation: slideInRight 1s cubic-bezier(0.4, 0, 0.2, 1) both;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }
}

@keyframes animatedGradient {
  0% { background-position: 0% 50%; }
  100% { background-position: 100% 50%; }
}
.bg-animated-gradient {
  background: linear-gradient(90deg, #3b82f6, #34d399, #f472b6, #f59e42, #3b82f6);
  background-size: 300% 300%;
  animation: animatedGradient 8s linear infinite;
}
  /* Enhanced Hero Animations */
  @keyframes heroWordIn1 { from { opacity: 0; transform: translateY(30px);} to { opacity: 1; transform: none;} }
  @keyframes heroWordIn2 { from { opacity: 0; transform: translateY(30px);} to { opacity: 1; transform: none;} }
  @keyframes heroWordIn3 { from { opacity: 0; transform: translateY(30px);} to { opacity: 1; transform: none;} }
  .animate-hero-word-1 { animation: heroWordIn1 0.7s 0.1s cubic-bezier(.4,0,.2,1) both; }
  .animate-hero-word-2 { animation: heroWordIn2 0.7s 0.4s cubic-bezier(.4,0,.2,1) both; }
  .animate-hero-word-3 { animation: heroWordIn3 0.7s 0.7s cubic-bezier(.4,0,.2,1) both; }
  @keyframes heroSubheadlineIn { from { opacity: 0; transform: translateY(20px);} to { opacity: 1; transform: none;} }
  .animate-hero-subheadline { animation: heroSubheadlineIn 0.8s 1.1s cubic-bezier(.4,0,.2,1) both; }
  @keyframes motifFadeIn { from { opacity: 0; } to { opacity: 1; } }
  .animate-motif-fade-in { animation: motifFadeIn 1.2s 1s both; }

  /* Micro-interactions */
  .card-hover {
    transition: var(--transition-spring);
  }

  .card-hover:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: var(--shadow-elevation-4), var(--glow-primary);
  }

  .button-magnetic {
    transition: var(--transition-bounce);
  }

  .button-magnetic:hover {
    transform: translateY(-4px) scale(1.05);
    box-shadow: var(--shadow-elevation-3), var(--glow-primary);
  }

  .button-magnetic:active {
    transform: translateY(-1px) scale(1.02);
  }

  /* Pulsing Elements */
  .pulse-glow {
    animation: pulseGlow 2s ease-in-out infinite;
  }

  @keyframes pulseGlow {
    0%, 100% { 
      box-shadow: var(--shadow-elevation-2), var(--glow-soft);
    }
    50% { 
      box-shadow: var(--shadow-elevation-3), var(--glow-primary);
    }
  }

  /* Gradient Text Animation */
  .gradient-text-flow {
    background: linear-gradient(
      45deg,
      hsl(var(--primary)),
      hsl(var(--secondary)),
      hsl(var(--accent)),
      hsl(var(--tertiary)),
      hsl(var(--primary))
    );
    background-size: 300% 300%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: gradientFlow 4s ease-in-out infinite;
  }

  @keyframes gradientFlow {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  /* Floating Animation */
  .float-slow {
    animation: floatSlow 6s ease-in-out infinite;
  }

  @keyframes floatSlow {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-20px);
    }
  }

  /* Scroll-triggered animations - Enhanced for stability */
  .scroll-fade-in {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    visibility: visible !important; /* Fix Issue 1: Force visibility */
  }

  .scroll-fade-in.in-view {
    opacity: 1 !important;
    transform: translateY(0) !important;
  }

  .scroll-slide-left {
    opacity: 0;
    transform: translateX(-50px);
    transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    visibility: visible !important; /* Fix Issue 1: Force visibility */
  }

  .scroll-slide-left.in-view {
    opacity: 1 !important;
    transform: translateX(0) !important;
  }

  .scroll-slide-right {
    opacity: 0;
    transform: translateX(50px);
    transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    visibility: visible !important; /* Fix Issue 1: Force visibility */
  }

  .scroll-slide-right.in-view {
    opacity: 1 !important;
    transform: translateX(0) !important;
  }

  /* Fix Issue 3: Prevent content flashing */
  .animate-on-scroll {
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    visibility: visible !important;
  }

  .animate-on-scroll.in-view {
    opacity: 1 !important;
    transform: translateY(0) !important;
  }

  /* Fix Issue 1: Ensure glass cards are always visible */
  .glass-card {
    visibility: visible !important;
    opacity: 1;
  }

  /* Fix tech stack visibility */
  .tech-stack-grid {
    visibility: visible !important;
  }

  .tech-stack-grid > * {
    visibility: visible !important;
    opacity: 1 !important;
  }